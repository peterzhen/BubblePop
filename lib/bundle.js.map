{"version":3,"sources":["webpack:///webpack/bootstrap 156bf68f50215e2074ad","webpack:///./lib/bubblepop.js","webpack:///./lib/game.js","webpack:///./lib/bubble.js","webpack:///./lib/player.js","webpack:///./lib/shooter.js","webpack:///./lib/util.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA8B,aAAa;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,UAAU;AAC7B;AACA,wBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/CA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;;;;;;ACjFA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;;;AAGA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 156bf68f50215e2074ad\n **/","const Game = require(\"./game\");\n\nconst init =  () => {\n  const canvasEl = document.getElementById(\"canvas\");\n  canvasEl.width = 305;\n  canvasEl.height = 455;\n  const ctx = canvasEl.getContext(\"2d\");\n\n  window.stage = new createjs.Stage(\"canvas\");\n  const game = new Game(window.stage);\n  game.fillCanvas();\n\n  createjs.Ticker.setFPS(60);\n  createjs.Ticker.addEventListener(\"tick\", game.tick);\n}\n\n$(document).ready(init);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/bubblepop.js\n ** module id = 0\n ** module chunks = 0\n **/","const Bubble = require(\"./bubble\");\nconst Player = require(\"./player\");\n\nclass Game {\n  constructor(stage){\n    this.stage = stage;\n    this.bubbles = [];\n    this.player = new Player({ game: this });\n    this.currentBubble = this.player.currentBubble;\n    this.nextBubble = this.player.nextBubble;\n    this.shooter = this.player.shooter;\n    this.generateBubbles(9, 6);\n\n    this.tick = this.tick.bind(this);\n  }\n\n  tick(){\n    if (this.player.shooting) this.currentBubble.tick();\n    window.stage.update();\n  }\n\n  generateBubbles(rows, cols, color) {\n    for (let i = 0; i < cols; i++) {\n        this.bubbles[i] = [];\n        for (let j = 0; j < rows; j++) {\n          if (i % 2 !== 0){\n            this.bubbles[i][j] = new Bubble({\n              x: j * 32,\n              y: i * 28,\n              shifted: true,\n              sheet: randomSheet()\n            });\n          } else {\n            this.bubbles[i][j] = new Bubble({\n              x: j * 32,\n              y: i * 28,\n              shifted: false,\n              sheet: randomSheet()\n            });\n          }\n        }\n    }\n  }\n\n  allObjects() {\n    let flatBubbles = [].concat.apply([], this.bubbles);\n\n    return [].concat(flatBubbles, this.currentBubble, this.nextBubble);\n  }\n\n  fillCanvas(){\n    this.stage.addChild(this.shooter.shooter);\n    this.allObjects().map ( (bubble) => this.stage.addChild(bubble.bubble));\n  }\n\n  updateBubbles(currentBubble, nextBubble){\n    this.currentBubble = currentBubble;\n    this.nextBubble = nextBubble;\n  }\n}\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","\nclass Bubble {\n  constructor(options){\n    this.x = options.x;\n    this.y = options.y;\n    this.vx = 0;\n    this.vy = 0;\n    this.shifted = options.shifted;\n    // this.color = color;\n    this.bubble = new createjs.Sprite(options.sheet, \"animate\");\n    this.createBubble(this.color);\n  }\n\n  tick(){\n    this.x += this.vx;\n    this.y += this.vy;\n\n    if (this.x <= 0 || this.x + 32 >= window.stage.canvas.width ) {\n      this.vx = -this.vx;\n    }\n\n    if ( this.y <= 0 ){\n      this.y = 0;\n      this.vx = 0;\n      this.vy = 0;\n    }\n\n    this.updateBubble(this.x, this.y);\n  }\n  // window.blueBubble = new createjs.Sprite(blueBubble, \"animate\");\n\n  createBubble(color){\n    // this.bubble.graphics.beginFill(\"red\").drawCircle(0, 0, 15);\n    this.bubble.x = this.x;\n    if (this.shifted) this.bubble.x += 16;\n    this.bubble.y = this.y;\n  }\n\n  updateBubble(xpos, ypos){\n    this.x = xpos;\n    this.y = ypos;\n    this.bubble.x = this.x;\n    if (this.shifted) this.bubble.x += 16;\n    this.bubble.y = this.y;\n  }\n}\n\nmodule.exports = Bubble;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/bubble.js\n ** module id = 2\n ** module chunks = 0\n **/","const Bubble = require(\"./bubble\");\nconst Shooter = require(\"./shooter\");\n\nconst currentBubbleX = 135;\nconst currentBubbleY = 390;\nconst nextBubbleX = 90;\nconst nextBubbleY = 410;\n\nclass Player {\n  constructor(options){\n    this.currentBubble;\n    this.nextBubble;\n    this.shooting = false;\n    this.game = options.game;\n    this.initStage();\n    this.shooter = new Shooter();\n    this.bindKeyHandlers();\n\n    this.updateGameBubble = this.updateGameBubble.bind(this);\n  }\n\n  bindKeyHandlers(){\n    document.addEventListener(\"keydown\", (event) => {\n      switch(event.keyCode){\n\n        case 32:\n        event.preventDefault();\n        this.shootBubble();\n\n        default:\n          return;\n      }\n    });\n  }\n\n  initStage() {\n    this.currentBubble = new Bubble({\n      x: currentBubbleX,\n      y: currentBubbleY,\n      shifted: false,\n      sheet: randomSheet()\n    });\n\n    this.nextBubble = new Bubble({\n      x: nextBubbleX,\n      y: nextBubbleY,\n      shifted: false,\n      sheet: randomSheet()\n    });\n  }\n\n  shootBubble(){\n    this.shooting = true;\n    this.shooter.fireBubble(this.currentBubble);\n    this.setCurrentBubble();\n    this.setNextBubble();\n    window.setTimeout(this.updateGameBubble, 2000);\n  }\n\n  updateGameBubble(){\n    this.shooting = false;\n    this.game.updateBubbles(this.currentBubble, this.nextBubble)\n  }\n\n  setCurrentBubble(){\n    this.currentBubble = this.nextBubble;\n    this.currentBubble.updateBubble(currentBubbleX, currentBubbleY);\n    this.shooter.updateCurrentBubble(this.currentBubble);\n  }\n\n  setNextBubble(){\n    this.nextBubble = new Bubble({\n      x: nextBubbleX,\n      y: nextBubbleY,\n      shifted: false,\n      sheet: randomSheet()\n    });\n    window.stage.addChild(this.nextBubble.bubble);\n  }\n}\n\nmodule.exports = Player;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/player.js\n ** module id = 3\n ** module chunks = 0\n **/","const Player = require('./player');\nconst Util = require('./util');\n\nclass Shooter {\n  constructor (){\n    this.shooter = this.createShooter();\n    this.bindKeyHandlers();\n  }\n\n  bindKeyHandlers(){\n    document.addEventListener(\"keydown\", (event) => {\n      switch(event.keyCode){\n\n        case 37:\n          event.preventDefault();\n          this.shooter.rotation -= 5;\n          break;\n\n        case 39:\n          event.preventDefault();\n          this.shooter.rotation += 5;\n          break;\n\n        default:\n          return;\n      }\n    });\n  }\n\n  fireBubble(bubble){\n    const rad = Util.convertToRads(this.shooter.rotation + 90);\n    bubble.vx = Math.cos(rad)*-800/60;\n    bubble.vy = Math.sin(rad)*-800/60;\n  }\n\n  createShooter(){\n    const img = new Image();\n    img.src = \"./assets/images/shooter.png\";\n    const shooter = new createjs.Bitmap(img);\n\n    const shooterContainer = new createjs.Container();\n    shooterContainer.x = 150;\n    shooterContainer.y = 410;\n    shooter.regX = 11.5;\n    shooter.regY = 40.5;\n    shooter.x = 0;\n    shooter.y = 0;\n    shooterContainer.addChild(shooter);\n    return shooterContainer;\n  }\n\n  updateCurrentBubble(bubble){\n    this.currentBubble = bubble;\n  }\n\n}\n\nmodule.exports = Shooter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/shooter.js\n ** module id = 4\n ** module chunks = 0\n **/","const Util = {\n  // Normalize the length of the vector to 1, maintaining direction.\n  dir (vec) {\n    var norm = Util.norm(vec);\n    return Util.scale(vec, 1 / norm);\n  },\n  // Find distance between two points.\n  dist (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n  // Find the length of the vector.\n  norm (vec) {\n    return Util.dist([0, 0], vec);\n  },\n  // Return a randomly oriented vector with the given length.\n  randomVec (length) {\n    var deg = 2 * Math.PI * Math.random();\n    return Util.scale([Math.sin(deg), Math.cos(deg)], length);\n  },\n  // Scale the length of a vector by the given amount.\n  scale (vec, m) {\n    return [vec[0] * m, vec[1] * m];\n  },\n\n  findDistance(coord1, coord2) {\n    let dist = Math.sqrt(\n      Math.pow(coord1[0] - coord2[0], 2) +\n      Math.pow(coord1[1] - coord2[1], 2)\n    );\n\n    return dist;\n  },\n\n  convertToRads (deg) {\n  return deg * Math.PI / 180;\n  }\n\n\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/util.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}